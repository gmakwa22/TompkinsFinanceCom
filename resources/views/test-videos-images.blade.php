@extends('layouts.design')

@section('content')
<div class="container-fluid">
    <div class="row">
        <div class="col-12">
            <h1 class="text-center mb-4">Site Content Test Page</h1>
            <p class="text-center mb-4">This page tests YouTube videos and header images for broken links</p>
        </div>
    </div>

    <!-- YouTube Videos Test Section -->
    <div class="row mb-5">
        <div class="col-12">
            <h2 class="mb-3">YouTube Videos Test - All State Pages</h2>
            <div class="alert alert-info">
                <strong>Instructions:</strong> Check each video below to ensure it loads and plays correctly.
                If a video shows an error or doesn't load, it's broken and needs to be replaced.
                <br><strong>Total Videos Found:</strong> 84+ videos across all state pages
            </div>

            <!-- California Videos -->
            <h4 class="mt-4 mb-3">California Videos</h4>
            <div class="row">
                <div class="col-lg-2 col-md-3 col-sm-4 col-6 mb-3">
                    <div class="card video-card">
                        <div class="card-header">
                            <strong>Anaheim</strong>
                            <a href="/payday-loans-anaheim" target="_blank" class="btn btn-xs btn-outline-primary float-right">View</a>
                        </div>
                        <div class="card-body p-2">
                            <iframe width="100%" height="120" src="https://www.youtube.com/embed/pfeUvPGzE3s?si=wZsTG5BsBUwtJwtm" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                        </div>
                    </div>
                </div>

                <div class="col-lg-2 col-md-3 col-sm-4 col-6 mb-3">
                    <div class="card video-card">
                        <div class="card-header">
                            <strong>Long Beach</strong>
                            <a href="/payday-loans-long-beach" target="_blank" class="btn btn-xs btn-outline-primary float-right">View</a>
                        </div>
                        <div class="card-body p-2">
                            <iframe width="100%" height="120" src="https://www.youtube.com/embed/sFjXdwKobD8?si=oV_EnUWOb06YrOwZ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                        </div>
                    </div>
                </div>

                <div class="col-lg-2 col-md-3 col-sm-4 col-6 mb-3">
                    <div class="card video-card">
                        <div class="card-header">
                            <strong>Sacramento</strong>
                            <a href="/payday-loans-sacramento" target="_blank" class="btn btn-xs btn-outline-primary float-right">View</a>
                        </div>
                        <div class="card-body p-2">
                            <iframe width="100%" height="120" src="https://www.youtube.com/embed/__nhn3kdYKc?si=0iJI2XDSxisUHUAV" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                        </div>
                    </div>
                </div>

                <div class="col-lg-2 col-md-3 col-sm-4 col-6 mb-3">
                    <div class="card video-card">
                        <div class="card-header">
                            <strong>Los Angeles</strong>
                            <a href="/payday-loans-los-angeles" target="_blank" class="btn btn-xs btn-outline-primary float-right">View</a>
                        </div>
                        <div class="card-body p-2">
                            <iframe width="100%" height="120" src="https://www.youtube.com/embed/xLNHsEGZ3nM?si=C4IHAZhfmjFocNJK" allowfullscreen></iframe>
                        </div>
                    </div>
                </div>

                <div class="col-lg-2 col-md-3 col-sm-4 col-6 mb-3">
                    <div class="card video-card">
                        <div class="card-header">
                            <strong>San Francisco</strong>
                            <a href="/payday-loans-san-francisco" target="_blank" class="btn btn-xs btn-outline-primary float-right">View</a>
                        </div>
                        <div class="card-body p-2">
                            <iframe width="100%" height="120" src="https://www.youtube.com/embed/p_M-NJWO7tQ?si=zCKgskguBMnpyC9X" allowfullscreen></iframe>
                        </div>
                    </div>
                </div>

                <div class="col-lg-2 col-md-3 col-sm-4 col-6 mb-3">
                    <div class="card video-card">
                        <div class="card-header">
                            <strong>San Diego</strong>
                            <a href="/payday-loans-san-diego" target="_blank" class="btn btn-xs btn-outline-primary float-right">View</a>
                        </div>
                        <div class="card-body p-2">
                            <iframe width="100%" height="120" src="https://www.youtube.com/embed/Ly42j9QffIk?si=fDyBntoWHcuQIJ1O" allowfullscreen></iframe>
                        </div>
                    </div>
                </div>

                <div class="col-lg-2 col-md-3 col-sm-4 col-6 mb-3">
                    <div class="card video-card">
                        <div class="card-header">
                            <strong>San Jose</strong>
                            <a href="/payday-loans-san-jose" target="_blank" class="btn btn-xs btn-outline-primary float-right">View</a>
                        </div>
                        <div class="card-body p-2">
                            <iframe width="100%" height="120" src="https://www.youtube.com/embed/ceAn8f8HHwI?si=IJXYulQDZTRQ-0wr" allowfullscreen></iframe>
                        </div>
                    </div>
                </div>

                <div class="col-lg-2 col-md-3 col-sm-4 col-6 mb-3">
                    <div class="card video-card">
                        <div class="card-header">
                            <strong>Oakland</strong>
                            <a href="/payday-loans-oakland" target="_blank" class="btn btn-xs btn-outline-primary float-right">View</a>
                        </div>
                        <div class="card-body p-2">
                            <iframe width="100%" height="120" src="https://www.youtube.com/embed/-5RFwiv4zpg?si=1QebzF9ehEGDkx6f" allowfullscreen></iframe>
                        </div>
                    </div>
                </div>

                <div class="col-lg-2 col-md-3 col-sm-4 col-6 mb-3">
                    <div class="card video-card">
                        <div class="card-header">
                            <strong>Riverside</strong>
                            <a href="/payday-loans-riverside" target="_blank" class="btn btn-xs btn-outline-primary float-right">View</a>
                        </div>
                        <div class="card-body p-2">
                            <iframe width="100%" height="120" src="https://www.youtube.com/embed/xzOh5xsIfGY?si=RLKiqVDkEjjYzd59" allowfullscreen></iframe>
                        </div>
                    </div>
                </div>

                <div class="col-lg-2 col-md-3 col-sm-4 col-6 mb-3">
                    <div class="card video-card">
                        <div class="card-header">
                            <strong>Stockton</strong>
                            <a href="/payday-loans-stockton" target="_blank" class="btn btn-xs btn-outline-primary float-right">View</a>
                        </div>
                        <div class="card-body p-2">
                            <iframe width="100%" height="120" src="https://www.youtube.com/embed/NMxDTtduK_k?si=vzkUAaX1mtajAxPJ" allowfullscreen></iframe>
                        </div>
                    </div>
                </div>

                <div class="col-lg-2 col-md-3 col-sm-4 col-6 mb-3">
                    <div class="card video-card">
                        <div class="card-header">
                            <strong>Santa Ana</strong>
                            <a href="/payday-loans-santa-ana" target="_blank" class="btn btn-xs btn-outline-primary float-right">View</a>
                        </div>
                        <div class="card-body p-2">
                            <iframe width="100%" height="120" src="https://www.youtube.com/embed/dDHWppRJ7Z0?si=4aU4hF7i2yPyI2G2" allowfullscreen></iframe>
                        </div>
                    </div>
                </div>

                <div class="col-lg-2 col-md-3 col-sm-4 col-6 mb-3">
                    <div class="card video-card">
                        <div class="card-header">
                            <strong>Santa Clarita</strong>
                            <a href="/payday-loans-santa-clarita" target="_blank" class="btn btn-xs btn-outline-primary float-right">View</a>
                        </div>
                        <div class="card-body p-2">
                            <iframe width="100%" height="120" src="https://www.youtube.com/embed/oBB2pSu-1YU?si=9cZ9LjByt2pOivaQ" allowfullscreen></iframe>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Texas Videos -->
            <h4 class="mt-4 mb-3">Texas Videos</h4>
            <div class="row">
                <div class="col-lg-2 col-md-3 col-sm-4 col-6 mb-3">
                    <div class="card video-card">
                        <div class="card-header">
                            <strong>Texas State</strong>
                            <a href="/payday-loans-texas" target="_blank" class="btn btn-xs btn-outline-primary float-right">View</a>
                        </div>
                        <div class="card-body p-2">
                            <iframe width="100%" height="120" src="https://www.youtube.com/embed/bdKHTIHEaQ0?si=vneDhBkWkp_m6pDB" allowfullscreen></iframe>
                        </div>
                    </div>
                </div>

                <div class="col-lg-2 col-md-3 col-sm-4 col-6 mb-3">
                    <div class="card video-card">
                        <div class="card-header">
                            <strong>Corpus Christi</strong>
                            <a href="/payday-loans-corpus-christi" target="_blank" class="btn btn-xs btn-outline-primary float-right">View</a>
                        </div>
                        <div class="card-body p-2">
                            <iframe width="100%" height="120" src="https://www.youtube.com/embed/hGvWOixL2WU?si=KYkVLqHvKZ8AKmrI" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                        </div>
                    </div>
                </div>

                <div class="col-lg-2 col-md-3 col-sm-4 col-6 mb-3">
                    <div class="card video-card">
                        <div class="card-header">
                            <strong>Plano</strong>
                            <a href="/payday-loans-plano" target="_blank" class="btn btn-xs btn-outline-primary float-right">View</a>
                        </div>
                        <div class="card-body p-2">
                            <iframe width="100%" height="120" src="https://www.youtube.com/embed/snsazA9Mrfo?si=FJ_-zQ8NsqJUK6Pe" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Missouri Videos -->
            <h4 class="mt-4 mb-3">Missouri Videos</h4>
            <div class="row">
                <div class="col-lg-2 col-md-3 col-sm-4 col-6 mb-3">
                    <div class="card video-card">
                        <div class="card-header">
                            <strong>Missouri State</strong>
                            <a href="/payday-loans-missouri" target="_blank" class="btn btn-xs btn-outline-primary float-right">View</a>
                        </div>
                        <div class="card-body p-2">
                            <iframe width="100%" height="120" src="https://www.youtube.com/embed/KVlQ47KTgBQ?si=tL8yJvYxnUHVYCNp" allowfullscreen></iframe>
                        </div>
                    </div>
                </div>

                <div class="col-lg-2 col-md-3 col-sm-4 col-6 mb-3">
                    <div class="card video-card">
                        <div class="card-header">
                            <strong>Kansas City</strong>
                            <a href="/payday-loans-kansas-city" target="_blank" class="btn btn-xs btn-outline-primary float-right">View</a>
                        </div>
                        <div class="card-body p-2">
                            <iframe width="100%" height="120" src="https://www.youtube.com/embed/zcVWdUV1Cy8?si=exlacp_-WTaK24rt" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                        </div>
                    </div>
                </div>

                <div class="col-lg-2 col-md-3 col-sm-4 col-6 mb-3">
                    <div class="card video-card">
                        <div class="card-header">
                            <strong>St. Louis</strong>
                            <a href="/payday-loans-st-louis" target="_blank" class="btn btn-xs btn-outline-primary float-right">View</a>
                        </div>
                        <div class="card-body p-2">
                            <iframe width="100%" height="120" src="https://www.youtube.com/embed/oJ_exT7XNn0?si=hmpANRKwiL4Ca8Ja" allowfullscreen></iframe>
                        </div>
                    </div>
                </div>

                <div class="col-lg-2 col-md-3 col-sm-4 col-6 mb-3">
                    <div class="card video-card">
                        <div class="card-header">
                            <strong>Springfield</strong>
                            <a href="/payday-loans-springfield" target="_blank" class="btn btn-xs btn-outline-primary float-right">View</a>
                        </div>
                        <div class="card-body p-2">
                            <iframe width="100%" height="120" src="https://www.youtube.com/embed/onkBy0s4FRo?si=OzEXpYG2bU9nIxbn" allowfullscreen></iframe>
                        </div>
                    </div>
                </div>

                <div class="col-lg-2 col-md-3 col-sm-4 col-6 mb-3">
                    <div class="card video-card">
                        <div class="card-header">
                            <strong>Columbia</strong>
                            <a href="/payday-loans-columbia" target="_blank" class="btn btn-xs btn-outline-primary float-right">View</a>
                        </div>
                        <div class="card-body p-2">
                            <iframe width="100%" height="120" src="https://www.youtube.com/embed/qvvS1FCzW8I?si=V8ramn1QPbU1Cnmr" allowfullscreen></iframe>
                        </div>
                    </div>
                </div>

                <div class="col-lg-2 col-md-3 col-sm-4 col-6 mb-3">
                    <div class="card video-card">
                        <div class="card-header">
                            <strong>Independence</strong>
                            <a href="/payday-loans-independence" target="_blank" class="btn btn-xs btn-outline-primary float-right">View</a>
                        </div>
                        <div class="card-body p-2">
                            <iframe width="100%" height="120" src="https://www.youtube.com/embed/e_siZNMDrsg?si=t_Xr-Cmhi1c_9g8B" allowfullscreen></iframe>
                        </div>
                    </div>
                </div>

                <div class="col-lg-2 col-md-3 col-sm-4 col-6 mb-3">
                    <div class="card video-card">
                        <div class="card-header">
                            <strong>Lee's Summit</strong>
                            <a href="/payday-loans-lees-summit" target="_blank" class="btn btn-xs btn-outline-primary float-right">View</a>
                        </div>
                        <div class="card-body p-2">
                            <iframe width="100%" height="120" src="https://www.youtube.com/embed/lDjL9eKksNI?si=Pd56RDnevHRuZEYu" allowfullscreen></iframe>
                        </div>
                    </div>
                </div>

                <div class="col-lg-2 col-md-3 col-sm-4 col-6 mb-3">
                    <div class="card video-card">
                        <div class="card-header">
                            <strong>St. Charles</strong>
                            <a href="/payday-loans-st-charles" target="_blank" class="btn btn-xs btn-outline-primary float-right">View</a>
                        </div>
                        <div class="card-body p-2">
                            <iframe width="100%" height="120" src="https://www.youtube.com/embed/jbI95_ZUbdI?si=X3TyolSPoERWQh5H" allowfullscreen></iframe>
                        </div>
                    </div>
                </div>

                <div class="col-lg-2 col-md-3 col-sm-4 col-6 mb-3">
                    <div class="card video-card">
                        <div class="card-header">
                            <strong>St. Joseph</strong>
                            <a href="/payday-loans-st-joseph" target="_blank" class="btn btn-xs btn-outline-primary float-right">View</a>
                        </div>
                        <div class="card-body p-2">
                            <iframe width="100%" height="120" src="https://www.youtube.com/embed/wK2BcY5I-rc?si=IJN_YToZOEhreWlw" allowfullscreen></iframe>
                        </div>
                    </div>
                </div>

                <div class="col-lg-2 col-md-3 col-sm-4 col-6 mb-3">
                    <div class="card video-card">
                        <div class="card-header">
                            <strong>Jefferson City</strong>
                            <a href="/payday-loans-jefferson-city" target="_blank" class="btn btn-xs btn-outline-primary float-right">View</a>
                        </div>
                        <div class="card-body p-2">
                            <iframe width="100%" height="120" src="https://www.youtube.com/embed/ILUwDpFBRGk?si=T5B7C_kBp-PLWXZh" allowfullscreen></iframe>
                        </div>
                    </div>
                </div>

                <div class="col-lg-2 col-md-3 col-sm-4 col-6 mb-3">
                    <div class="card video-card">
                        <div class="card-header">
                            <strong>Joplin</strong>
                            <a href="/payday-loans-joplin" target="_blank" class="btn btn-xs btn-outline-primary float-right">View</a>
                        </div>
                        <div class="card-body p-2">
                            <iframe width="100%" height="120" src="https://www.youtube.com/embed/0EUW4EP7lns?si=TGyBBZ4yj8I1VOeV" allowfullscreen></iframe>
                        </div>
                    </div>
                </div>

                <div class="col-lg-2 col-md-3 col-sm-4 col-6 mb-3">
                    <div class="card video-card">
                        <div class="card-header">
                            <strong>St. Peters</strong>
                            <a href="/payday-loans-st-peters" target="_blank" class="btn btn-xs btn-outline-primary float-right">View</a>
                        </div>
                        <div class="card-body p-2">
                            <iframe width="100%" height="120" src="https://www.youtube.com/embed/Wcozpt80hcg?si=79eUJgzyo38kBQtg" allowfullscreen></iframe>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Nevada Videos -->
            <h4 class="mt-4 mb-3">Nevada Videos</h4>
            <div class="row">
                <div class="col-lg-2 col-md-3 col-sm-4 col-6 mb-3">
                    <div class="card video-card">
                        <div class="card-header">
                            <strong>Nevada State</strong>
                            <a href="/payday-loans-nevada" target="_blank" class="btn btn-xs btn-outline-primary float-right">View</a>
                        </div>
                        <div class="card-body p-2">
                            <iframe width="100%" height="120" src="https://www.youtube.com/embed/C9HVxEQ8iIA?si=KUwEP6NgcoF35bPK" allowfullscreen></iframe>
                        </div>
                    </div>
                </div>

                <div class="col-lg-2 col-md-3 col-sm-4 col-6 mb-3">
                    <div class="card video-card">
                        <div class="card-header">
                            <strong>Sparks</strong>
                            <a href="/payday-loans-sparks" target="_blank" class="btn btn-xs btn-outline-primary float-right">View</a>
                        </div>
                        <div class="card-body p-2">
                            <iframe width="100%" height="120" src="https://www.youtube.com/embed/_Km7OPedf-g?si=1SnBzRXAdP0I3Zs-" allowfullscreen></iframe>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Note about remaining videos -->
            <div class="alert alert-warning mt-4">
                <strong>Note:</strong> This shows a sample of the 84+ videos found across all state pages.
                The complete list includes many more cities in California, Missouri, Texas, Nevada, Florida, and New York.
                <br>All videos are displayed in compact format for quick testing - click "View" to see the full page.
            </div>
        </div>
    </div>

    <!-- Header Images Test Section -->
    <div class="row mb-5">
        <div class="col-12">
            <h2 class="mb-3">Header Images Test</h2>
            <div class="alert alert-info">
                <strong>Instructions:</strong> Check each image below to ensure it loads correctly.
                If an image shows a broken image icon or doesn't load, it needs to be fixed.
            </div>

            <div class="row">
                <div class="col-md-6 mb-4">
                    <div class="card">
                        <div class="card-header">
                            <strong>Main Page Video Cover</strong> - houston.jpg
                            <a href="/" target="_blank" class="btn btn-sm btn-outline-primary float-right">View Main Page</a>
                        </div>
                        <div class="card-body">
                            <img src="/houston.jpg" alt="Houston Cover Image" class="img-fluid" style="max-height: 200px; width: 100%; object-fit: cover;" onerror="this.style.border='3px solid red'; this.alt='BROKEN IMAGE: houston.jpg';">
                            <p class="mt-2"><small>Path: /houston.jpg</small></p>
                        </div>
                    </div>
                </div>

                <div class="col-md-6 mb-4">
                    <div class="card">
                        <div class="card-header">
                            <strong>Video File</strong> - video1.mp4
                            <a href="/" target="_blank" class="btn btn-sm btn-outline-primary float-right">View Main Page</a>
                        </div>
                        <div class="card-body">
                            <video width="100%" height="200" controls>
                                <source src="/video1.mp4" type="video/mp4">
                                Your browser does not support the video tag.
                            </video>
                            <p class="mt-2"><small>Path: /video1.mp4</small></p>
                        </div>
                    </div>
                </div>

                <div class="col-md-6 mb-4">
                    <div class="card">
                        <div class="card-header">
                            <strong>Common Header Images</strong>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-6 mb-2">
                                    <img src="/images/logo.png" alt="Logo" class="img-fluid" style="max-height: 100px;" onerror="this.style.border='3px solid red'; this.alt='BROKEN: logo.png';">
                                    <small>Logo</small>
                                </div>
                                <div class="col-6 mb-2">
                                    <img src="/images/header-bg.jpg" alt="Header Background" class="img-fluid" style="max-height: 100px;" onerror="this.style.border='3px solid red'; this.alt='BROKEN: header-bg.jpg';">
                                    <small>Header BG</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-6 mb-4">
                    <div class="card">
                        <div class="card-header">
                            <strong>State/City Images</strong>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-6 mb-2">
                                    <img src="/images/states/texas.jpg" alt="Texas" class="img-fluid" style="max-height: 100px;" onerror="this.style.border='3px solid red'; this.alt='BROKEN: texas.jpg';">
                                    <small>Texas</small>
                                </div>
                                <div class="col-6 mb-2">
                                    <img src="/images/states/california.jpg" alt="California" class="img-fluid" style="max-height: 100px;" onerror="this.style.border='3px solid red'; this.alt='BROKEN: california.jpg';">
                                    <small>California</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Server-side Image Checker -->
    <div class="row mb-5">
        <div class="col-12">
            <h2 class="mb-3">Server-side Image Checker</h2>
            <div class="card">
                <div class="card-body">
                    <p>Click the button below to check if images exist on the server:</p>
                    <button id="checkImagesBtn" class="btn btn-primary">Check Images on Server</button>
                    <div id="serverResults" class="mt-3" style="display: none;">
                        <h5>Server Check Results:</h5>
                        <div id="serverResultsContent"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Test Results Section -->
    <div class="row">
        <div class="col-12">
            <h2 class="mb-3">Test Results Checklist</h2>
            <div class="card">
                <div class="card-body">
                    <h5>YouTube Videos Checklist:</h5>
                    <ul>
                        <li>✅ Anaheim, CA - pfeUvPGzE3s</li>
                        <li>✅ Long Beach, CA - sFjXdwKobD8</li>
                        <li>✅ Sacramento, CA - __nhn3kdYKc</li>
                        <li>✅ Kansas City, MO - zcVWdUV1Cy8</li>
                        <li>✅ Corpus Christi, TX - hGvWOixL2WU</li>
                        <li>✅ Plano, TX - snsazA9Mrfo</li>
                        <li>❓ Airdrie, AB - e2Jj3wlO36E (Check needed)</li>
                        <li>❓ Morden, MB - WH3OfDepIcQ (Check needed)</li>
                        <li>❓ London, Ontario - 0JEEdq4E0fk (Check needed)</li>
                        <li>❓ Burnaby, BC - PjonL-JPlqU (Check needed)</li>
                    </ul>

                    <h5 class="mt-3">Header Images Checklist:</h5>
                    <ul>
                        <li>❓ Houston Cover - /houston.jpg</li>
                        <li>❓ Video File - /video1.mp4</li>
                        <li>❓ Logo - /images/logo.png</li>
                        <li>❓ Header Background - /images/header-bg.jpg</li>
                        <li>❓ State Images - /images/states/</li>
                    </ul>

                    <div class="alert alert-warning mt-3">
                        <strong>Note:</strong> Check each item above and mark as ✅ (working) or ❌ (broken).
                        For broken items, note the specific error and replace with working alternatives.
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.card {
    border: 1px solid #dee2e6;
    border-radius: 0.375rem;
    box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
}

.card-header {
    background-color: #f8f9fa;
    border-bottom: 1px solid #dee2e6;
    font-weight: 600;
}

.alert {
    border-radius: 0.375rem;
}

img[alt*="BROKEN"] {
    border: 3px solid red !important;
    background-color: #ffebee;
    padding: 10px;
}

iframe {
    border-radius: 0.375rem;
}

.badge {
    display: inline-block;
    padding: 0.25em 0.4em;
    font-size: 75%;
    font-weight: 700;
    line-height: 1;
    text-align: center;
    white-space: nowrap;
    vertical-align: baseline;
    border-radius: 0.25rem;
}

.badge-success {
    color: #fff;
    background-color: #28a745;
}

.badge-danger {
    color: #fff;
    background-color: #dc3545;
}

.badge-warning {
    color: #212529;
    background-color: #ffc107;
}

.table {
    width: 100%;
    margin-bottom: 1rem;
    color: #212529;
    border-collapse: collapse;
}

.table th,
.table td {
    padding: 0.75rem;
    vertical-align: top;
    border-top: 1px solid #dee2e6;
}

.table thead th {
    vertical-align: bottom;
    border-bottom: 2px solid #dee2e6;
}

.table-sm th,
.table-sm td {
    padding: 0.3rem;
}

.text-success {
    color: #28a745 !important;
}

.text-danger {
    color: #dc3545 !important;
}

.btn {
    display: inline-block;
    font-weight: 400;
    line-height: 1.5;
    color: #212529;
    text-align: center;
    text-decoration: none;
    vertical-align: middle;
    cursor: pointer;
    user-select: none;
    background-color: transparent;
    border: 1px solid transparent;
    padding: 0.375rem 0.75rem;
    font-size: 1rem;
    border-radius: 0.25rem;
    transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
}

.btn-sm {
    padding: 0.25rem 0.5rem;
    font-size: 0.875rem;
    border-radius: 0.2rem;
}

.btn-xs {
    padding: 0.125rem 0.25rem;
    font-size: 0.75rem;
    border-radius: 0.15rem;
}

.video-card {
    height: 200px;
    margin-bottom: 1rem;
}

.video-card .card-header {
    padding: 0.5rem;
    font-size: 0.8rem;
    line-height: 1.2;
}

.video-card .card-body {
    padding: 0.25rem;
    height: 140px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.video-card iframe {
    border-radius: 4px;
}

.btn-outline-primary {
    color: #0d6efd;
    border-color: #0d6efd;
}

.btn-outline-primary:hover {
    color: #fff;
    background-color: #0d6efd;
    border-color: #0d6efd;
}

.btn-outline-secondary {
    color: #6c757d;
    border-color: #6c757d;
}

.btn-outline-secondary:hover {
    color: #fff;
    background-color: #6c757d;
    border-color: #6c757d;
}

.float-right {
    float: right !important;
}
</style>

<script>
// Image checking functionality
function checkImage(img) {
    return new Promise((resolve) => {
        const testImg = new Image();
        testImg.onload = () => resolve(true);
        testImg.onerror = () => resolve(false);
        testImg.src = img.src;
    });
}

// Check all images on page load
document.addEventListener('DOMContentLoaded', function() {
    const images = document.querySelectorAll('img');
    const results = [];

    images.forEach(async (img, index) => {
        const isWorking = await checkImage(img);
        results[index] = isWorking;

        if (!isWorking) {
            img.style.border = '3px solid red';
            img.style.backgroundColor = '#ffebee';
            img.alt = 'BROKEN: ' + img.src;

            // Add error indicator to parent card
            const card = img.closest('.card');
            if (card) {
                card.style.border = '3px solid red';
                const header = card.querySelector('.card-header');
                if (header) {
                    header.innerHTML += ' <span class="badge badge-danger">BROKEN</span>';
                }
            }
        } else {
            // Mark as working
            const card = img.closest('.card');
            if (card) {
                card.style.border = '3px solid green';
                const header = card.querySelector('.card-header');
                if (header) {
                    header.innerHTML += ' <span class="badge badge-success">✓ WORKING</span>';
                }
            }
        }
    });

    // Add click handlers to mark items as working/broken
    const cards = document.querySelectorAll('.card');
    cards.forEach(card => {
        card.addEventListener('click', function() {
            if (this.style.borderColor === 'rgb(0, 128, 0)') {
                this.style.borderColor = '';
                this.style.borderWidth = '';
            } else {
                this.style.borderColor = 'green';
                this.style.borderWidth = '3px';
            }
        });
    });

    // Auto-refresh page every 10 minutes to catch any intermittent issues
    setTimeout(function() {
        location.reload();
    }, 600000); // 10 minutes
});

// YouTube video error handling
function handleVideoError(iframe) {
    iframe.style.border = '3px solid red';
    iframe.style.backgroundColor = '#ffebee';
    const card = iframe.closest('.card');
    if (card) {
        const header = card.querySelector('.card-header');
        if (header) {
            header.innerHTML += ' <span class="badge badge-danger">VIDEO ERROR</span>';
        }
    }
}

// Add error handlers to all iframes
document.addEventListener('DOMContentLoaded', function() {
    const iframes = document.querySelectorAll('iframe');
    iframes.forEach(iframe => {
        iframe.addEventListener('error', () => handleVideoError(iframe));
    });

    // Server-side image checker
    document.getElementById('checkImagesBtn').addEventListener('click', async function() {
        this.disabled = true;
        this.textContent = 'Checking...';

        try {
            const response = await fetch('/check-images.php');
            const results = await response.json();

            const resultsDiv = document.getElementById('serverResults');
            const contentDiv = document.getElementById('serverResultsContent');

            let html = '<table class="table table-sm">';
            html += '<thead><tr><th>Path</th><th>Status</th><th>Size</th></tr></thead><tbody>';

            results.forEach(result => {
                const statusClass = result.status === 'OK' ? 'text-success' : 'text-danger';
                const statusText = result.status === 'OK' ? '✓ OK' :
                                 result.status === 'NOT_READABLE' ? '✗ Not Readable' : '✗ Not Found';
                const sizeText = result.size > 0 ? (result.size / 1024).toFixed(1) + ' KB' : 'N/A';

                html += `<tr>
                    <td>${result.path}</td>
                    <td class="${statusClass}">${statusText}</td>
                    <td>${sizeText}</td>
                </tr>`;
            });

            html += '</tbody></table>';
            contentDiv.innerHTML = html;
            resultsDiv.style.display = 'block';

        } catch (error) {
            document.getElementById('serverResultsContent').innerHTML =
                '<div class="alert alert-danger">Error checking images: ' + error.message + '</div>';
            document.getElementById('serverResults').style.display = 'block';
        }

        this.disabled = false;
        this.textContent = 'Check Images on Server';
    });
});
</script>
@endsection
